import { extend } from 'marbles/utils';
<% require 'yajl' %>

var StaticConfig = extend({
  APP_NAME: <%= Yajl::Encoder.encode(ENV['APP_NAME'] || '') %>,
  API_SERVER: <%= Yajl::Encoder.encode(ENV['API_SERVER'] || '') %>,
  PATH_PREFIX: <%= Yajl::Encoder.encode(ENV['PATH_PREFIX'] || '') %>,
  INSTALL_CERT: <%= Yajl::Encoder.encode(ENV['INSTALL_CERT'] || '') %>,
  ASSET_PATHS: <%= Yajl::Encoder.encode(%w(
    windows-firefox-cert-1.png
    linux-firefox-cert-1.png
    osx-firefox-cert-1.png
    osx-cert-1.png
    osx-cert-2.png
    osx-cert-3.png
    osx-cert-4.png
    linux-chrome-cert-1.png
    linux-chrome-cert-2.png
    linux-chrome-cert-3.png
    linux-chrome-cert-4.png
    linux-chrome-cert-5.png
    windows-cert-1.png
    windows-cert-2.png
    windows-cert-3.png
    windows-cert-4.png
    windows-cert-5.png
    windows-cert-6.png
    windows-cert-7.png

    github-token-gen.png
    github-token-copy.png

    postgres-logo.png
    redis-logo.png
    mariadb-logo.png
  ).inject({}) { |memo, name| memo[name] = "/assets/"+ asset_path(name).sub(/\A\.\//, ''); memo }) %>
}, window.DashboardConfig || {});

StaticConfig.PROVIDER_ATTRS = {
	postgres: {
		title: 'PostgreSQL',
		img: StaticConfig.ASSET_PATHS['postgres-logo.png'],
		serviceName: 'postgres',
		discoverdRouteURIEnvKey: 'DATABASE_URL'
	},
	redis: {
		title: 'Redis',
		img: StaticConfig.ASSET_PATHS['redis-logo.png'],
		serviceName: 'redis-web',
		discoverdRouteURIEnvKey: 'REDIS_URL'
	},
	mariadb: {
		title: 'MariaDB',
		img: StaticConfig.ASSET_PATHS['mariadb-logo.png'],
		serviceName: 'mariadb',
		discoverdRouteURIEnvKey: 'DATABASE_URL'
	}
};

export default StaticConfig;
